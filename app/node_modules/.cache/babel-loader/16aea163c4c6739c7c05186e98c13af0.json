{"ast":null,"code":"//ACTION TYPES\nconst GET_PRODUCTS = 'get/products';\n\n//ACTIONS\nexport const get_products = data => {\n  return {\n    type: GET_PRODUCTS,\n    payload: data\n  };\n};\n\n// THUNKS\nexport const getAllProductThunk = () => async (dispatch, getState) => {\n  try {\n    const res = await fetch('/api/products', {\n      method: \"GET\"\n    });\n    if (res.ok) {\n      const data = await res.json();\n      dispatch(get_products(data));\n      return data;\n    } else {\n      const errorData = await res.json();\n      throw new Error(errorData.error || 'Failed to fetch data');\n    }\n  } catch (error) {\n    // Handle any other errors that might occur\n    console.error('Error in getAllProductThunk:', error);\n    return {\n      error: 'An error occurred while fetching data'\n    };\n  }\n};\n\n//REDUCDER\nconst inital_state = {\n  allProducts: {}\n};\nconst productReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : inital_state;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_PRODUCTS:\n      const newState = {\n        ...state,\n        allProducts: {\n          ...state.allProducts\n        }\n      };\n      //make a copy of all the keys in the data not whats in them\n      newState.allProducts = action.payload.data;\n      return newState;\n    default:\n      return state;\n  }\n};\nexport default productReducer;","map":{"version":3,"names":["GET_PRODUCTS","get_products","data","type","payload","getAllProductThunk","dispatch","getState","res","fetch","method","ok","json","errorData","Error","error","console","inital_state","allProducts","productReducer","state","action","newState"],"sources":["/Users/zenw/Capstone/Captone-Project/react-app/src/store/products.js"],"sourcesContent":["\n//ACTION TYPES\nconst GET_PRODUCTS = 'get/products'\n\n\n\n\n//ACTIONS\nexport const get_products = (data) =>{\n    return {\n        type:GET_PRODUCTS,\n        payload:data\n    }\n}\n\n\n\n\n\n\n\n\n// THUNKS\nexport const getAllProductThunk = () => async (dispatch, getState) => {\n\n    try {\n        const res = await fetch('/api/products',{\n            method: \"GET\"\n        });\n\n        if (res.ok) {\n            const data = await res.json();\n            dispatch(get_products(data));\n            return data;\n        } else {\n          \n            const errorData = await res.json();\n            throw new Error(errorData.error || 'Failed to fetch data');\n        }\n    } catch (error) {\n        // Handle any other errors that might occur\n        console.error('Error in getAllProductThunk:', error);\n        return { error: 'An error occurred while fetching data' };\n    }\n\n}\n\n\n//REDUCDER\nconst inital_state = {allProducts:{}}\n\nconst productReducer = (state=inital_state, action)=>{\n\n    switch(action.type) {\n        case GET_PRODUCTS:\n            const newState = {...state, allProducts:{...state.allProducts}}\n            //make a copy of all the keys in the data not whats in them\n            newState.allProducts = action.payload.data\n            return newState\n        default:\n            return state\n\n    }\n}\n\n\nexport default productReducer"],"mappings":"AACA;AACA,MAAMA,YAAY,GAAG,cAAc;;AAKnC;AACA,OAAO,MAAMC,YAAY,GAAIC,IAAI,IAAI;EACjC,OAAO;IACHC,IAAI,EAACH,YAAY;IACjBI,OAAO,EAACF;EACZ,CAAC;AACL,CAAC;;AASD;AACA,OAAO,MAAMG,kBAAkB,GAAG,MAAM,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAElE,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,eAAe,EAAC;MACpCC,MAAM,EAAE;IACZ,CAAC,CAAC;IAEF,IAAIF,GAAG,CAACG,EAAE,EAAE;MACR,MAAMT,IAAI,GAAG,MAAMM,GAAG,CAACI,IAAI,EAAE;MAC7BN,QAAQ,CAACL,YAAY,CAACC,IAAI,CAAC,CAAC;MAC5B,OAAOA,IAAI;IACf,CAAC,MAAM;MAEH,MAAMW,SAAS,GAAG,MAAML,GAAG,CAACI,IAAI,EAAE;MAClC,MAAM,IAAIE,KAAK,CAACD,SAAS,CAACE,KAAK,IAAI,sBAAsB,CAAC;IAC9D;EACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZ;IACAC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,OAAO;MAAEA,KAAK,EAAE;IAAwC,CAAC;EAC7D;AAEJ,CAAC;;AAGD;AACA,MAAME,YAAY,GAAG;EAACC,WAAW,EAAC,CAAC;AAAC,CAAC;AAErC,MAAMC,cAAc,GAAG,YAA8B;EAAA,IAA7BC,KAAK,uEAACH,YAAY;EAAA,IAAEI,MAAM;EAE9C,QAAOA,MAAM,CAAClB,IAAI;IACd,KAAKH,YAAY;MACb,MAAMsB,QAAQ,GAAG;QAAC,GAAGF,KAAK;QAAEF,WAAW,EAAC;UAAC,GAAGE,KAAK,CAACF;QAAW;MAAC,CAAC;MAC/D;MACAI,QAAQ,CAACJ,WAAW,GAAGG,MAAM,CAACjB,OAAO,CAACF,IAAI;MAC1C,OAAOoB,QAAQ;IACnB;MACI,OAAOF,KAAK;EAAA;AAGxB,CAAC;AAGD,eAAeD,cAAc"},"metadata":{},"sourceType":"module"}