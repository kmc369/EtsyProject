{"ast":null,"code":"// constants\nconst SET_USER = \"session/SET_USER\";\nconst REMOVE_USER = \"session/REMOVE_USER\";\nconst GET_PRODUCT_OF_USER = \"user/products\";\nconst DELETE_PRODUCT = 'delete/product/user';\nconst EDIT_PRODUCT = \"edit/product\";\nconst ADD_TO_CART = 'add/cart';\nconst DELETE_FROM_CART = 'delete/product/cart';\nconst setUser = user => ({\n  type: SET_USER,\n  payload: user\n});\nconst removeUser = () => ({\n  type: REMOVE_USER\n});\nexport const delete_product = (product_id, data) => {\n  return {\n    type: DELETE_PRODUCT,\n    payload: {\n      product_id,\n      data\n    }\n  };\n};\nexport const get_user_products = data => {\n  return {\n    type: GET_PRODUCT_OF_USER,\n    payload: data\n  };\n};\nexport const edit_product = data => {\n  return {\n    type: EDIT_PRODUCT,\n    payload: data\n  };\n};\nexport const add_to_cart = data => {\n  return {\n    type: ADD_TO_CART,\n    payload: data\n  };\n};\nexport const delete_from_cart = data => {\n  return {\n    type: DELETE_FROM_CART,\n    payload: data\n  };\n};\nexport const deleteFromCartThunk = (productId, cartId) => async dispatch => {\n  const response = await fetch(`/api/shopping/delete/${productId}/shopping_cart/${cartId}`, {\n    method: \"DELETE\"\n  });\n  if (response.ok) {\n    const data = await response.json();\n    console.log(\"the data coming back is \", data);\n    dispatch(add_to_cart(data));\n    return data;\n  }\n};\nexport const addToCartThunk = (productId, cartId) => async dispatch => {\n  const response = await fetch(`/api/shopping/${productId}/${cartId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(add_to_cart(data));\n    return data;\n  }\n};\nexport const authenticate = () => async dispatch => {\n  const response = await fetch(\"/api/auth/\", {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (response.ok) {\n    const data = await response.json();\n    if (data.errors) {\n      return;\n    }\n    dispatch(setUser(data));\n  }\n};\nexport const login = (email, password) => async dispatch => {\n  const response = await fetch(\"/api/auth/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data));\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\nexport const logout = () => async dispatch => {\n  const response = await fetch(\"/api/auth/logout\", {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (response.ok) {\n    dispatch(removeUser());\n  }\n};\nexport const signUp = (username, email, password) => async dispatch => {\n  const response = await fetch(\"/api/auth/signup\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      email,\n      password\n    })\n  });\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data));\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\nexport const getUserProductThunk = user_id => async (dispatch, getState) => {\n  const res = await fetch(`/api/products/user/${user_id}`, {\n    method: \"GET\"\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(get_user_products(data));\n    return data;\n  }\n};\nexport const deleteProductThunk = product_id => async (dispatch, getState) => {\n  const res = await fetch(`/api/products/delete/${product_id}`, {\n    method: \"DELETE\"\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(delete_product(product_id, data));\n    return data;\n  }\n};\nexport const editProductThunk = (product, product_id) => async (dispatch, getState) => {\n  const res = await fetch(`/api/products/update/${product_id}`, {\n    method: \"PUT\",\n    body: product\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(edit_product(data));\n    return data;\n  } else {\n    const errorData = await res.json();\n    throw new Error(errorData.error || 'Failed to fetch data');\n  }\n};\nconst initialState = {\n  user: null\n};\nexport default function reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_USER:\n      return {\n        user: action.payload\n      };\n    case REMOVE_USER:\n      return {\n        user: null\n      };\n    case GET_PRODUCT_OF_USER:\n      {\n        const newState = {\n          ...state,\n          user: {\n            ...state.user\n          }\n        };\n        newState.user.products = action.payload;\n        return newState;\n      }\n    case DELETE_PRODUCT:\n      {\n        const newState = {\n          ...state,\n          user: {\n            ...state.user\n          },\n          products: {\n            ...state.user.products\n          }\n        };\n        const updatedProducts = state.user.products.filter(product => product.id !== action.payload.product_id);\n        newState.user.products = updatedProducts;\n        return newState;\n      }\n    case EDIT_PRODUCT:\n      {\n        const newState = {\n          ...state,\n          user: {\n            ...state.user\n          },\n          products: {\n            ...state.user.products\n          }\n        };\n        const index = state.user.products.findIndex(product => product.id === action.payload.id);\n        newState.user.products[index] = action.payload;\n        return newState;\n      }\n    case ADD_TO_CART:\n      {\n        const newState = {\n          ...state,\n          user: {\n            ...state.user\n          },\n          products: {\n            ...state.user.shopping_cart.products\n          }\n        };\n        newState.user.shopping_cart.products = action.payload;\n        return newState;\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["SET_USER","REMOVE_USER","GET_PRODUCT_OF_USER","DELETE_PRODUCT","EDIT_PRODUCT","ADD_TO_CART","DELETE_FROM_CART","setUser","user","type","payload","removeUser","delete_product","product_id","data","get_user_products","edit_product","add_to_cart","delete_from_cart","deleteFromCartThunk","productId","cartId","dispatch","response","fetch","method","ok","json","console","log","addToCartThunk","headers","authenticate","errors","login","email","password","body","JSON","stringify","status","logout","signUp","username","getUserProductThunk","user_id","getState","res","deleteProductThunk","editProductThunk","product","errorData","Error","error","initialState","reducer","state","action","newState","products","updatedProducts","filter","id","index","findIndex","shopping_cart"],"sources":["/Users/zenw/Capstone/Captone-Project/react-app/src/store/session.js"],"sourcesContent":["// constants\nconst SET_USER = \"session/SET_USER\";\nconst REMOVE_USER = \"session/REMOVE_USER\";\nconst GET_PRODUCT_OF_USER = \"user/products\"\nconst DELETE_PRODUCT='delete/product/user'\nconst EDIT_PRODUCT = \"edit/product\"\n\nconst ADD_TO_CART = 'add/cart'\nconst DELETE_FROM_CART = 'delete/product/cart'\n\n\nconst setUser = (user) => ({\n\ttype: SET_USER,\n\tpayload: user,\n});\n\nconst removeUser = () => ({\n\ttype: REMOVE_USER,\n});\nexport const delete_product = (product_id,data)=>{\n\t\n    return {\n        type:DELETE_PRODUCT,\n        payload:{\n\t\t\tproduct_id,\n\t\t\tdata\n\t\t}\n    }\n}\n\nexport const get_user_products = (data) =>{\n    return {\n        type:GET_PRODUCT_OF_USER,\n        payload:data\n\n        \n    }\n}\n\nexport const edit_product = (data)=>{\n    return {\n        type:EDIT_PRODUCT,\n        payload:data\n    }\n}\n\nexport const add_to_cart = (data)=>{\n    return {\n        type:ADD_TO_CART,\n        payload:data\n    }\n}\n\nexport const delete_from_cart = (data)=>{\n\t\n    return {\n        type:DELETE_FROM_CART,\n        payload:data\n\t\t\n    }\n}\nexport const deleteFromCartThunk= (productId, cartId) => async (dispatch) => {\n\tconst response = await fetch(`/api/shopping/delete/${productId}/shopping_cart/${cartId}`, {\n\t\tmethod: \"DELETE\",\n\n\t});\n\tif(response.ok){\n\t\tconst data = await response.json();\n\t\tconsole.log(\"the data coming back is \",data)\n\t\tdispatch(add_to_cart(data))\n\t\treturn data\n\t}\n\n\n}\n\nexport const addToCartThunk= (productId, cartId) => async (dispatch) => {\n\tconst response = await fetch(`/api/shopping/${productId}/${cartId}`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\t\n\t});\n\tif(response.ok){\n\t\tconst data = await response.json();\n\t\n\t\tdispatch(add_to_cart(data))\n\t\treturn data\n\t}\n\n}\n\n\nexport const authenticate = () => async (dispatch) => {\n\tconst response = await fetch(\"/api/auth/\", {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\tif (response.ok) {\n\t\tconst data = await response.json();\n\t\tif (data.errors) {\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(setUser(data));\n\t}\n};\n\nexport const login = (email, password) => async (dispatch) => {\n\tconst response = await fetch(\"/api/auth/login\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail,\n\t\t\tpassword,\n\t\t}),\n\t});\n\n\tif (response.ok) {\n\t\tconst data = await response.json();\n\t\tdispatch(setUser(data));\n\t\treturn null;\n\t} else if (response.status < 500) {\n\t\tconst data = await response.json();\n\t\tif (data.errors) {\n\t\t\treturn data.errors;\n\t\t}\n\t} else {\n\t\treturn [\"An error occurred. Please try again.\"];\n\t}\n};\n\nexport const logout = () => async (dispatch) => {\n\tconst response = await fetch(\"/api/auth/logout\", {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\n\tif (response.ok) {\n\t\tdispatch(removeUser());\n\t}\n};\n\nexport const signUp = (username, email, password) => async (dispatch) => {\n\tconst response = await fetch(\"/api/auth/signup\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tusername,\n\t\t\temail,\n\t\t\tpassword,\n\t\t}),\n\t});\n\n\tif (response.ok) {\n\t\tconst data = await response.json();\n\t\tdispatch(setUser(data));\n\t\treturn null;\n\t} else if (response.status < 500) {\n\t\tconst data = await response.json();\n\t\tif (data.errors) {\n\t\t\treturn data.errors;\n\t\t}\n\t} else {\n\t\treturn [\"An error occurred. Please try again.\"];\n\t}\n};\n\n\nexport const getUserProductThunk = (user_id) => async(dispatch,getState) =>{\n\n \n    const res = await fetch(`/api/products/user/${user_id}`,{\n        method:\"GET\",\n     \n    })\n    if(res.ok){\n        const data = await res.json()\n\t\t\n        dispatch(get_user_products(data))\n        return data\n    }\n}\nexport const deleteProductThunk = (product_id) => async(dispatch,getState) =>{\n    const res = await fetch(`/api/products/delete/${product_id}`,{\n        method:\"DELETE\"\n    })\n    if(res.ok){\n        const data = await res.json()\n        dispatch(delete_product(product_id,data))\n        return data\n    }\n}\n\nexport const editProductThunk = (product,product_id) => async (dispatch, getState) => {\n  \n    const res = await fetch(`/api/products/update/${product_id}`,{\n        method:\"PUT\",\n        body:product\n    })\n\n   if (res.ok) {\n       const data = await res.json();\n\t\n       dispatch(edit_product(data));\n       return data;\n   } else {\n     \n       const errorData = await res.json();\n       throw new Error(errorData.error || 'Failed to fetch data');\n   }  \n}\n\nconst initialState = { user: null };\nexport default function reducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase SET_USER:\n\t\t\treturn { user: action.payload };\n\t\tcase REMOVE_USER:\n\t\t\treturn { user: null };\n\t\tcase GET_PRODUCT_OF_USER:{\n          \tconst newState = {...state, user:{...state.user}}\n\t\t\tnewState.user.products = action.payload\n\t\t\treturn newState\n\t\t\t}\n\t\tcase DELETE_PRODUCT:{\n\t\t\n\t\t\tconst newState = {...state,user:{...state.user}, products:{...state.user.products}}\n\t\t\tconst updatedProducts = state.user.products.filter(\n\t\t\t\t(product) => product.id !== action.payload.product_id\n\t\t\t  );\n\t\t\t  newState.user.products = updatedProducts\n\t\t\n\t\t\treturn newState\n\t\t}\n\t\tcase EDIT_PRODUCT:{\n           \n\t\t\tconst newState = {...state,user:{...state.user}, products:{...state.user.products}}\n\t\t\tconst index = state.user.products.findIndex((product) => product.id === action.payload.id);\n\t\t\t\n\t\t\tnewState.user.products[index] = action.payload\n\t\t\t\n            return newState\n        }\n\t\tcase ADD_TO_CART:{\n\t\t\t\n\t\t\tconst newState = {...state,user:{...state.user}, products:{...state.user.shopping_cart.products}}\n\t\t\tnewState.user.shopping_cart.products = action.payload\n\t\t\treturn newState\n\t\t}\n\t\t\n\t\t\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}